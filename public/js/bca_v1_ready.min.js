/*! Built for bca_v1 2013-12-01 */
var _this=this;BCA.rt=Davis(function(){return this.configure(function(){return this.generateRequestOnPageLoad=!0}),this.get("/",function(){return(new HOME).init()}),this.get("/feed",function(){return(new FEED).init()}),this.get("/setup",function(){return(new SETUP).init()}),this.get("/all",function(){return(new ALL).init()})}),BCA.rt.route_to=function(){return Davis.location.assign("/"+Array.prototype.join.call(arguments,"/"))},BCA.rt.bind("runRoute",function(){}).bind("routeNotFound",function(){}).bind("start",function(){return BCA.rt.logger.info("BCA started"),BCA.fb_user=null,BCA.db_user_tasks=null,BCA.db_user_uploads=null,BCA.db=new Firebase("https://bca.firebaseIO.com"),BCA.db_users=new Firebase("https://bca.firebaseIO.com/users"),BCA.db_uploads=new Firebase("https://bca.firebaseIO.com/uploads"),BCA.db_tasks=new Firebase("https://bca.firebaseIO.com/tasks"),BCA.ui.render_rewrite($("body"),"wrapper",{},function(){return BCA.rt.logger.info("BCA wrapper rendered"),$("#login_button").unbind().click(function(){return BCA.auth.login("facebook",{rememberMe:!0,scope:"email"})}),$("#logout_button").unbind().click(function(){return BCA.auth.logout(),BCA.rt.route_to("")}),$("#restart_button").unbind().click(function(){return confirm("Are you sure to restart? All progress will be lost!")?(BCA.db_user_uploads.remove(),BCA.db_user_tasks.remove(),BCA.rt.route_to("setup")):void 0})})}).bind("stop",function(){return BCA.rt.logger.info("BCA stopped")}),BCA.rt.start();